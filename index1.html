<!DOCTYPE>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>201605 Listening Test</title>

    <style type="text/css">
        p { width: 100%; }
        p.lowHigh { line-height: 30%; }
    </style>

    <script src="jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="three.min.js"></script>
    <script type="text/javascript" src="usefulFunction.js"></script>
    <script type="text/javascript" src="functionList.js"></script>
    <script type="text/javascript" src="fileLink.js"></script>

    <script type="text/javascript">
        var DEBUG_MODE = true;

        var trialNum = new Array(10, 10);
        var trialTotal = arraySum(trialNum);

        /* Array to store answers */
        var selectAns = new Array();
        for (var n = 0; n < trialTotal; ++n) {
            selectAns[n] = new Array();
        }

        /* Load sound files */
        var audioPlaying = new Array(false, false);
        var filePlaying = 0;
        var playNum = 0;
        var ptnPlaying = 0;  // パターン選択回答用
        var ptnAsking = 1;   // 移動有無回答用
        var AnsFill = 0;

        var point = new Array();
        point[0] = new Array();
        point[0][1] = new Array("111", "110", "100", "101", "001", "011", "010", "000");   // Humming
        point[0][0] = new Array("111", "101", "110", "011", "010", "001", "100", "000");   // 音源減っていく
        point[1] = new Array();
        point[1][0] = new Array("111", "011", "001", "101", "100", "110", "010", "000");   // Humming
        point[1][1] = new Array("111", "110", "101", "011", "001", "010", "100", "000");   // 音源減っていく
        point[2] = new Array();
        point[2][1] = new Array("111", "110", "010", "011", "001", "101", "100", "000");   // Humming
        point[2][0] = new Array("111", "110", "011", "101", "001", "100", "010", "000");   // 音源減っていく
        point[3] = new Array();
        point[3][0] = new Array("111", "110", "010", "011", "001", "101", "100", "000");   // Humming
        point[3][1] = new Array("111", "011", "101", "110", "100", "010", "001", "000");   // 音源減っていく
        point[4] = new Array();
        point[4][0] = new Array("111", "101", "100", "110", "010", "011", "001", "000");   // Humming
        point[4][1] = new Array("111", "101", "011", "110", "010", "100", "001", "000");   // 音源減っていく
        point[5] = new Array();
        point[5][1] = new Array("111", "011", "010", "110", "100", "101", "001", "000");   // Humming
        point[5][0] = new Array("111", "011", "110", "101", "100", "001", "010", "000");   // 音源減っていく
        point[6] = new Array();
        point[6][1] = new Array("111", "011", "010", "110", "100", "101", "001", "000");   // Humming
        point[6][0] = new Array("111", "110", "011", "101", "001", "100", "010", "000");   // 音源減っていく
        point[7] = new Array();
        point[7][1] = new Array("111", "101", "100", "110", "010", "011", "001", "000");   // Humming
        point[7][0] = new Array("111", "011", "110", "101", "100", "001", "010", "000");   // 音源減っていく
        point[8] = new Array();
        point[8][0] = new Array("111", "101", "001", "011", "010", "110", "100", "000");   // Humming
        point[8][1] = new Array("111", "101", "011", "110", "010", "100", "001", "000");   // 音源減っていく
        point[9] = new Array();
        point[9][0] = new Array("111", "101", "001", "011", "010", "110", "100", "000");   // Humming
        point[9][1] = new Array("111", "101", "110", "011", "010", "001", "100", "000");   // 音源減っていく
        point[10] = new Array();
        point[10][0] = new Array("111", "110", "100", "101", "001", "011", "010", "000");   // Humming
        point[10][1] = new Array("111", "011", "101", "110", "100", "010", "001", "000");   // 音源減っていく
        point[11] = new Array();
        point[11][1] = new Array("111", "011", "001", "101", "100", "110", "010", "000");   // Humming
        point[11][0] = new Array("111", "110", "101", "011", "001", "010", "100", "000");   // 音源減っていく
        
        /* Names of sound files for comparison of naturality */
        var audioFile1 = new Array();
        audioFile1[0] = new Array();
        audioFile1[1] = new Array();
        audioFile1[0][0] = "sound/ALPstream/outside/1c/1c_111_011_001_101_100_110_010";
        audioFile1[1][0] = "sound/ALPstream/outside/1c/1c_111_100_001_101_011_110_010";
        audioFile1[0][1] = "sound/ALPstream/outside/1c/1c_111_011_001_101_100_110_010";
        audioFile1[1][1] = "sound/ALPstream/outside/1c/1c_111_100_001_101_011_110_010";
        /* Arrays to play sound files for comparison of naturality */
        var audioArray1 = new Array();
        audioArray1[0] = new Array();
        audioArray1[1] = new Array();

        var array = new Array();

        // ------------------------------------------------------------
        // リッスンを開始する
        // ------------------------------------------------------------
        // イベントリスナーに対応している
        if (document.addEventListener) {
            // マウスカーソルを移動すると実行されるイベント
            //document.addEventListener("mousemove", ChangeVolume);
            // キーボードを押したときに実行されるイベント
            document.addEventListener("keypress", KeyDownFunc);

            // アタッチイベントに対応している
        } else if (document.attachEvent) {
            // マウスカーソルを移動すると実行されるイベント
            //document.attachEvent("onmousemove", ChangeVolume);
            // キーボードを押したときに実行されるイベント
            document.attachEvent("onkeydown", KeyDownFunc);
        }
    </script>
</head>

<body onload="iniFunc()">
    <h3 style="padding-left:1em">聴取実験</h3>
    <p>3種類の音が混ざった音を複数聞いて指示されたとおりの聞こえ方の音を選んでください．2問1セットのものが12セット用意されています．<br />
    【手順】<br />
    Data1の#1から始めてください．<br />
    1. Play/Stopボタンを押すと音が再生されますので，聞きやすい音量になるようPCの音量を調節してください．<br />
    2. バーを動かしてマウスを離すと音が切り替わります．ドラッグしたままでは音は切り替わりません．バーが一番右にあるときは音が流れません．<br />
    3. バーを左端から右端まで順に動かして全ての音を聞いた後，指示に最も適した聞こえ方をする位置にバーを合わせてから，Play/Stopボタンで音を止めます．選び直したいときは再度Play/Stopボタンで音を再生できます．音は繰り返しされます(繰り返しのときに１秒ほど無音となります)<br />
    4. バーの右のOKボタンを押すとバーの位置が記録されます．OKボタンを押す前に，音が一時停止状態であることを確認してください．再生中にOKボタンを押してしまうと結果が正しく記録されないことがあります．<br />
    5. 続いて#2でも同様に音を聞き，OKボタンでバーの位置を記録してください．<br />
    6. #1, #2の回答が済んだら枠の外の質問「聞こえ方を比べやすいのはどちらでしたか？」に答えてください．このとき音の聞き直しができませんので十分注意してください．<br />
    7. 回答漏れがないか確認してからAnswer Saveボタンを押します．ボタンは1回のみ押してください．また，回答漏れがあると警告が出ますのでその場合は回答をし直して再度ボタンを押してください．<br />
    8. 次のData2以降も上記と同様の手順で回答をします．<br />
    9. Data12まで終了したら，最後にFINISHボタンを押してください．表示された指示に従ってファイルの保存を行ってください．保存したファイルはsuzuki.tomomi@g.sp.m.is.nagoya-u.ac.jp宛てに送信してください．<br />
    * 注意事項 *<br />
    実験を行う際はヘッドホンまたはイヤホンを使用してください．<br />
    必要があれば，実験の途中であっても音量を変えてください．<br />
    必ずData1の#1, #2, Data2の#1, #2という順番で回答してください．戻って回答をすると，結果が正しく記録されないことがあります．<br />
    #1と#2で全く同じ聞こえ方の音を選ぶ必要はありません．それぞれバーを動かして聞き比べた音の中から判断してください．<br />
</p>
    <!-- <<Data 1>>------------------------------------------------------------------------------------------- -->
    <hr align="left" width="1100" color="#ffc8c8">
    <h3 style="padding-left:10pt">Data 1. 女性の声が最も聞き取りやすいものをそれぞれ選んでください</h3>
    <!--Play sounds-->
    <table border="1" width="700" height="70">
        <tr>
            <!--#1-->
            <td>
                <script language="JavaScript">document.write("#1".bold())</script>
                <button style="width: 70px; height: 50px" onclick="AudioButtonFunc1(0)">Play/Stop</button>
            </td>
            <!--#2-->
            <td>
                <script language="JavaScript">document.write("#2".bold())</script>
                <button style="width: 70px; height: 50px" onclick="AudioButtonFunc1(1)">Play/Stop</button>
            </td>
        </tr>
    </table>
    <!--Naturality evalation-->
    <form name="selectbox">
        <p class="lowHigh">Q. 聞こえ方を比べやすいのはどちらでしたか？</p>
        <select id="selectNtr01" onchange="saveAns2Array1(1)">
            <option value="">*選んでください</option>
            <option value="1">#1</option>
            <option value="2">#2</option>
        </select>
    </form>
    <!--Save answer in array saving txt-->
    <button onclick="saveArrayVal1();">Answer1 Save</button>
    <a id="saveArray" href=""></a>
    <p class="ls_normal"></p>
    
    <!--最後に回答をファイルに保存-->
    <p class="ls_double"><br /></p>
    <button onclick="saveFunc();">FINISH</button>
    <a id="anchor" href=""></a>
</body>
</html>
